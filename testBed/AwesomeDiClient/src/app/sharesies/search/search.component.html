<div class="container-fluid">
    <div class="row">
        <div class="col-3">
            <mat-form-field appearance="fill">
                <mat-label>Country</mat-label>
                <input matInput placeholder="usa" [ngModel]="country" (ngModelChange)="countryChanged($event)" >
            </mat-form-field>
        </div>
    </div>
    <div class="tab-container">
        <div class="loading-shade" *ngIf="isLoadingResults">
            <mat-spinner *ngIf="isLoadingResults"></mat-spinner>
        </div>
        <div class="table-container">
            <table mat-table [dataSource]="dataSource" matSort>
                <ng-container matColumnDef="name" sticky>
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Name </th>
                    <td mat-cell *matCellDef="let row"> {{row.name}} </td>
                </ng-container>
                <ng-container matColumnDef="exchangeCountry">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Country </th>
                    <td mat-cell *matCellDef="let row"> {{row.exchangeCountry}} </td>
                </ng-container>
                <ng-container matColumnDef="lastPrice">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Price </th>
                    <td mat-cell *matCellDef="let row"> {{row.lastPrice?.toFixed(2)}} </td>
                </ng-container>
                <ng-container matColumnDef="dayChangePercent">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> 1D </th>
                    <td mat-cell *matCellDef="let row"> {{row.dayChangePercent?.toFixed(2)}} </td>
                </ng-container>
                <ng-container matColumnDef="threeDayChangePercent">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> 3D</th>
                    <td mat-cell *matCellDef="let row"> {{row.threeDayChangePercent?.toFixed(2)}} </td>
                </ng-container>
                <ng-container matColumnDef="weekChangePercent">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> 1W </th>
                    <td mat-cell *matCellDef="let row"> {{row.weekChangePercent?.toFixed(2)}} </td>
                </ng-container>
                <ng-container matColumnDef="twoWeekChangePercent">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> 2W </th>
                    <td mat-cell *matCellDef="let row"> {{row.twoWeekChangePercent?.toFixed(2)}} </td>
                </ng-container>
                <ng-container matColumnDef="monthChangePercent">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> 1M </th>
                    <td mat-cell *matCellDef="let row"> {{row.monthChangePercent?.toFixed(2)}} </td>
                </ng-container>
                <ng-container matColumnDef="twoMonthChangePercent">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> 2M </th>
                    <td mat-cell *matCellDef="let row"> {{row.twoMonthChangePercent?.toFixed(2)}} </td>
                </ng-container>
                <ng-container matColumnDef="threeMonthChangePercent">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> 3M </th>
                    <td mat-cell *matCellDef="let row"> {{row.threeMonthChangePercent?.toFixed(2)}} </td>
                </ng-container>
                <ng-container matColumnDef="sixMonthChangePercent">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> 6M </th>
                    <td mat-cell *matCellDef="let row"> {{row.sixMonthChangePercent?.toFixed(2)}} </td>
                </ng-container>
                <ng-container matColumnDef="yearChangePercent">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header> 1Y </th>
                    <td mat-cell *matCellDef="let row"> {{row.yearChangePercent?.toFixed(2)}} </td>
                </ng-container>
                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
                    <td mat-cell *matCellDef="let row">
                        <button color="Primary" mat-button (click)="view(row)">View</button>
                    </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">No data matching the filter</td>
                </tr>
            </table>
        </div>
    </div>
    <mat-paginator [length]="resultsLength" [pageSizeOptions]="[20, 50, 100, 200]"></mat-paginator>
</div>